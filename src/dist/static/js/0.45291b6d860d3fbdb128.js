webpackJsonp([0],{"1Rui":function(e,n,t){"use strict";var o=t("mOwr"),i=function(){var e=4022871197;return function(n){if(n){n=n.toString();for(var t=0;t<n.length;t++){e+=n.charCodeAt(t);var o=.02519603282416938*e;e=o>>>0,o-=e,o*=e,e=o>>>0,o-=e,e+=4294967296*o}return 2.3283064365386963e-10*(e>>>0)}e=4022871197}},r=function(e){return function(){var n,t,r=48,a=1,s=r,c=new Array(r),l=0,u=new i;for(n=0;n<r;n++)c[n]=u(Math.random());var d=function(){++s>=r&&(s=0);var e=1768863*c[s]+2.3283064365386963e-10*a;return c[s]=e-(a=0|e)},f=function(e){return Math.floor(e*(d()+1.1102230246251565e-16*(2097152*d()|0)))};f.string=function(e){var n,t="";for(n=0;n<e;n++)t+=String.fromCharCode(33+f(94));return t};var h=function(){var e=Array.prototype.slice.call(arguments);for(n=0;n<e.length;n++)for(t=0;t<r;t++)c[t]-=u(e[n]),c[t]<0&&(c[t]+=1)};return f.cleanString=function(e){return e=e.replace(/(^\s*)|(\s*$)/gi,""),e=e.replace(/[\x00-\x1F]/gi,""),e=e.replace(/\n /,"\n")},f.hashString=function(e){for(e=f.cleanString(e),u(e),n=0;n<e.length;n++)for(l=e.charCodeAt(n),t=0;t<r;t++)c[t]-=u(l),c[t]<0&&(c[t]+=1)},f.seed=function(e){void 0!==e&&null!==e||(e=Math.random()),"string"!=typeof e&&(e=o(e,function(e,n){return"function"==typeof n?n.toString():n})),f.initState(),f.hashString(e)},f.addEntropy=function(){var e=[];for(n=0;n<arguments.length;n++)e.push(arguments[n]);h(l+++(new Date).getTime()+e.join("")+Math.random())},f.initState=function(){for(u(),n=0;n<r;n++)c[n]=u(" ");a=1,s=r},f.done=function(){u=null},void 0!==e&&f.seed(e),f.range=function(e){return f(e)},f.random=function(){return f(Number.MAX_VALUE-1)/Number.MAX_VALUE},f.floatBetween=function(e,n){return f.random()*(n-e)+e},f.intBetween=function(e,n){return Math.floor(f.random()*(n-e+1))+e},f}()};r.create=function(e){return new r(e)},e.exports=r},DQdH:function(e,n,t){n=e.exports=t("FZ+f")(!0),n.push([e.i,"h1[data-v-49b61f60],h2[data-v-49b61f60]{font-weight:700;font-size:5em}.mobile[data-v-49b61f60]{visibility:hidden!important}@media only screen and (max-width:767px){h1[data-v-49b61f60],h2[data-v-49b61f60]{font-weight:700;font-size:2em}#messagelist[data-v-49b61f60]{border:0;-webkit-box-shadow:0 0 0 0;box-shadow:0 0 0 0;padding:0;margin:-1em;margin-top:1em}.mobile[data-v-49b61f60]{visibility:visible!important}#inputhandle[data-v-49b61f60]{border:0;-webkit-box-shadow:0 0 0 0;box-shadow:0 0 0 0;padding:0;margin:-1em;margin-top:1em;margin-top:30px}.nopadding[data-v-49b61f60]{padding:0!important}[data-v-49b61f60]{border-radius:0!important}}","",{version:3,sources:["/Users/jackeygao/Coding/example/channels-example/src/src/components/Room.vue"],names:[],mappings:"AACA,wCACE,gBAAkB,AAClB,aAAe,CAChB,AACD,yBACI,2BAA8B,CACjC,AACD,yCACA,wCACK,gBAAkB,AAClB,aAAe,CACnB,AACD,8BACQ,SAAU,AACV,2BAAoC,AAC5B,mBAA4B,AACpC,UAAW,AACX,YAAa,AACb,cAAgB,CACvB,AACD,yBACQ,4BAA+B,CACtC,AACD,8BACQ,SAAU,AACV,2BAAoC,AAC5B,mBAA4B,AACpC,UAAW,AACX,YAAa,AACb,eAAgB,AAChB,eAAiB,CACxB,AACD,4BACQ,mBAAqB,CAC5B,AACD,kBACQ,yBAA2B,CAClC,CACA",file:"Room.vue",sourcesContent:["\nh1[data-v-49b61f60], h2[data-v-49b61f60] {\n  font-weight: bold;\n  font-size: 5em;\n}\n.mobile[data-v-49b61f60] {\n    visibility: hidden !important;\n}\n@media only screen and (max-width: 767px) {\nh1[data-v-49b61f60], h2[data-v-49b61f60] {\n     font-weight: bold;\n     font-size: 2em;\n}\n#messagelist[data-v-49b61f60] {\n        border: 0;\n        -webkit-box-shadow: 0px 0px 0px 0px;\n                box-shadow: 0px 0px 0px 0px;\n        padding: 0;\n        margin: -1em;\n        margin-top: 1em;\n}\n.mobile[data-v-49b61f60] {\n        visibility: visible !important;\n}\n#inputhandle[data-v-49b61f60] {\n        border: 0;\n        -webkit-box-shadow: 0px 0px 0px 0px;\n                box-shadow: 0px 0px 0px 0px;\n        padding: 0;\n        margin: -1em;\n        margin-top: 1em;\n        margin-top: 30px;\n}\n.nopadding[data-v-49b61f60] {\n        padding: 0!important;\n}\n*[data-v-49b61f60] {\n        border-radius: 0!important;\n}\n}\n"],sourceRoot:""}])},F12q:function(e,n,t){var o=t("DQdH");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);t("rjj0")("2ba01129",o,!0)},FDn1:function(e,n){function t(e,n,t){switch(t.length){case 0:return e.call(n);case 1:return e.call(n,t[0]);case 2:return e.call(n,t[0],t[1]);case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}function o(e,n){for(var t=-1,o=Array(e);++t<e;)o[t]=n(t);return o}function i(e,n){var t=R(e)||v(e)?o(e.length,String):[],i=t.length,r=!!i;for(var a in e)!n&&!O.call(e,a)||r&&("length"==a||u(a,i))||t.push(a);return t}function r(e,n,t,o){return void 0===e||p(e,B[t])&&!O.call(o,t)?n:e}function a(e,n,t){var o=e[n];O.call(e,n)&&p(o,t)&&(void 0!==t||n in e)||(e[n]=t)}function s(e){if(!C(e))return h(e);var n=f(e),t=[];for(var o in e)("constructor"!=o||!n&&O.call(e,o))&&t.push(o);return t}function c(e,n){return n=M(void 0===n?e.length-1:n,0),function(){for(var o=arguments,i=-1,r=M(o.length-n,0),a=Array(r);++i<r;)a[i]=o[n+i];i=-1;for(var s=Array(n+1);++i<n;)s[i]=o[i];return s[n]=a,t(e,this,s)}}function l(e,n,t,o){t||(t={});for(var i=-1,r=n.length;++i<r;){var s=n[i],c=o?o(t[s],e[s],s,t,e):void 0;a(t,s,void 0===c?e[s]:c)}return t}function u(e,n){return!!(n=null==n?x:n)&&("number"==typeof e||_.test(e))&&e>-1&&e%1==0&&e<n}function d(e,n,t){if(!C(t))return!1;var o=typeof n;return!!("number"==o?m(t)&&u(n,t.length):"string"==o&&n in t)&&p(t[n],e)}function f(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||B)}function h(e){var n=[];if(null!=e)for(var t in Object(e))n.push(t);return n}function p(e,n){return e===n||e!==e&&n!==n}function v(e){return g(e)&&O.call(e,"callee")&&(!j.call(e,"callee")||N.call(e)==k)}function m(e){return null!=e&&A(e.length)&&!b(e)}function g(e){return y(e)&&m(e)}function b(e){var n=C(e)?N.call(e):"";return n==S||n==E}function A(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=x}function C(e){var n=typeof e;return!!e&&("object"==n||"function"==n)}function y(e){return!!e&&"object"==typeof e}function w(e){return m(e)?i(e,!0):s(e)}var x=9007199254740991,k="[object Arguments]",S="[object Function]",E="[object GeneratorFunction]",_=/^(?:0|[1-9]\d*)$/,B=Object.prototype,O=B.hasOwnProperty,N=B.toString,j=B.propertyIsEnumerable,M=Math.max,R=Array.isArray,L=function(e){return c(function(n,t){var o=-1,i=t.length,r=i>1?t[i-1]:void 0,a=i>2?t[2]:void 0;for(r=e.length>3&&"function"==typeof r?(i--,r):void 0,a&&d(t[0],t[1],a)&&(r=i<3?void 0:r,i=1),n=Object(n);++o<i;){var s=t[o];s&&e(n,s,o,r)}return n})}(function(e,n,t,o){l(n,w(n),e,o)}),D=c(function(e){return e.push(void 0,r),t(L,void 0,e)});e.exports=D},FeBl:function(e,n){var t=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=t)},Mh98:function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("router-link",{attrs:{to:{name:"index"}}},[t("div",{staticClass:"ui green basic button icon",staticStyle:{position:"absolute",left:"10px",top:"10px"}},[t("i",{staticClass:"home icon"})])]),e._v(" "),t("h1",{staticClass:"header"},[e._v(e._s(e.$route.query.label))]),e._v(" "),e.messages.length>0?t("div",{staticClass:"ui segment",attrs:{id:"messagelist"}},[t("div",{staticClass:"ui mobile divider"}),e._v(" "),t("div",{staticClass:"ui divided selection list"},[e._l(e.messages,function(n,o){return t("div",{key:o,staticClass:"item",staticStyle:{padding:"1em"}},[t("div",{staticClass:"ui stackable grid"},[t("div",{staticClass:"four wide column"},[e._v("\n                        "+e._s(n.timestamp)+"\n                    ")]),e._v(" "),t("div",{staticClass:"eight wide column"},[t("span",{staticStyle:{color:"#5BBD72"}},[e._v(e._s(n.message))])]),e._v(" "),t("div",{staticClass:"two wide column"},[e._v("\n                        "+e._s(n.handle)+"\n                    ")])])])}),e._v(" "),t("div",{staticClass:"ui mobile divider"})],2)]):e._e(),e._v(" "),t("div",{staticClass:"ui segment",attrs:{id:"inputhandle"}},[t("div",{staticClass:"ui stackable grid"},[t("div",{staticClass:"six wide column nopadding"},[t("div",{staticClass:"ui fluid right action left icon input"},[t("i",{staticClass:"user icon"}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.handle,expression:"handle"}],attrs:{type:"text",placeholder:"Your name"},domProps:{value:e.handle},on:{input:function(n){n.target.composing||(e.handle=n.target.value)}}}),e._v(" "),t("button",{staticClass:"ui teal icon button",on:{click:e.randomName}},[t("i",{staticClass:"refresh icon"})])])]),e._v(" "),t("div",{staticClass:"eight wide column nopadding"},[t("div",{staticClass:"ui fluid input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],attrs:{type:"text",placeholder:"Message..."},domProps:{value:e.newMessage},on:{input:function(n){n.target.composing||(e.newMessage=n.target.value)}}})])]),e._v(" "),t("div",{staticClass:"two wide column nopadding"},[t("button",{staticClass:"ui fluid teal right labeled right floated icon button",on:{click:e.send}},[t("i",{staticClass:"reply icon"}),e._v("\n                  Send\n              ")])])])])],1)},i=[],r={render:o,staticRenderFns:i};n.a=r},"e/7n":function(e,n,t){var o,i,r;!function(t,a){i=[],o=a,void 0!==(r="function"==typeof o?o.apply(n,i):o)&&(e.exports=r)}(0,function(){function e(n,t,o){function i(e,n){var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,!1,!1,n),t}var r={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null};o||(o={});for(var a in r)void 0!==o[a]?this[a]=o[a]:this[a]=r[a];this.url=n,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var s,c=this,l=!1,u=!1,d=document.createElement("div");d.addEventListener("open",function(e){c.onopen(e)}),d.addEventListener("close",function(e){c.onclose(e)}),d.addEventListener("connecting",function(e){c.onconnecting(e)}),d.addEventListener("message",function(e){c.onmessage(e)}),d.addEventListener("error",function(e){c.onerror(e)}),this.addEventListener=d.addEventListener.bind(d),this.removeEventListener=d.removeEventListener.bind(d),this.dispatchEvent=d.dispatchEvent.bind(d),this.open=function(n){if(s=new WebSocket(c.url,t||[]),n){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else d.dispatchEvent(i("connecting")),this.reconnectAttempts=0;(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",c.url);var o=s,r=setTimeout(function(){(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",c.url),u=!0,o.close(),u=!1},c.timeoutInterval);s.onopen=function(t){clearTimeout(r),(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onopen",c.url),c.protocol=s.protocol,c.readyState=WebSocket.OPEN,c.reconnectAttempts=0;var o=i("open");o.isReconnect=n,n=!1,d.dispatchEvent(o)},s.onclose=function(t){if(clearTimeout(r),s=null,l)c.readyState=WebSocket.CLOSED,d.dispatchEvent(i("close"));else{c.readyState=WebSocket.CONNECTING;var o=i("connecting");o.code=t.code,o.reason=t.reason,o.wasClean=t.wasClean,d.dispatchEvent(o),n||u||((c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onclose",c.url),d.dispatchEvent(i("close")));var r=c.reconnectInterval*Math.pow(c.reconnectDecay,c.reconnectAttempts);setTimeout(function(){c.reconnectAttempts++,c.open(!0)},r>c.maxReconnectInterval?c.maxReconnectInterval:r)}},s.onmessage=function(n){(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",c.url,n.data);var t=i("message");t.data=n.data,d.dispatchEvent(t)},s.onerror=function(n){(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onerror",c.url,n),d.dispatchEvent(i("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(n){if(s)return(c.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","send",c.url,n),s.send(n);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,n){void 0===e&&(e=1e3),l=!0,s&&s.close(e,n)},this.refresh=function(){s&&s.close()}}if("WebSocket"in window)return e.prototype.onopen=function(e){},e.prototype.onclose=function(e){},e.prototype.onconnecting=function(e){},e.prototype.onmessage=function(e){},e.prototype.onerror=function(e){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e})},mOwr:function(e,n){function t(e,n,t,i){return JSON.stringify(e,o(n,i),t)}function o(e,n){var t=[],o=[];return null==n&&(n=function(e,n){return t[0]===n?"[Circular ~]":"[Circular ~."+o.slice(0,t.indexOf(n)).join(".")+"]"}),function(i,r){if(t.length>0){var a=t.indexOf(this);~a?t.splice(a+1):t.push(this),~a?o.splice(a,1/0,i):o.push(i),~t.indexOf(r)&&(r=n.call(this,i,r))}else t.push(r);return null==e?r:e.call(this,i,r)}}n=e.exports=t,n.getSerialize=o},mnUt:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=t("1Rui"),s=o(a),c=t("FDn1"),l=o(c),u=["aged","ancient","autumn","billowing","bitter","black","blue","bold","broad","broken","calm","cold","cool","crimson","curly","damp","dark","dawn","delicate","divine","dry","empty","falling","fancy","flat","floral","fragrant","frosty","gentle","green","hidden","holy","icy","jolly","late","lingering","little","lively","long","lucky","misty","morning","muddy","mute","nameless","noisy","odd","old","orange","patient","plain","polished","proud","purple","quiet","rapid","raspy","red","restless","rough","round","royal","shiny","shrill","shy","silent","small","snowy","soft","solitary","sparkling","spring","square","steep","still","summer","super","sweet","throbbing","tight","tiny","twilight","wandering","weathered","white","wild","winter","wispy","withered","yellow","young"],d=["art","band","bar","base","bird","block","boat","bonus","bread","breeze","brook","bush","butterfly","cake","cell","cherry","cloud","credit","darkness","dawn","dew","disk","dream","dust","feather","field","fire","firefly","flower","fog","forest","frog","frost","glade","glitter","grass","hall","hat","haze","heart","hill","king","lab","lake","leaf","limit","math","meadow","mode","moon","morning","mountain","mouse","mud","night","paper","pine","poetry","pond","queen","rain","recipe","resonance","rice","river","salad","scene","sea","shadow","shape","silence","sky","smoke","snow","snowflake","sound","star","sun","sun","sunset","surf","term","thunder","tooth","tree","truth","union","unit","violet","voice","water","waterfall","wave","wildflower","wind","wood"],f={delimiter:"-",tokenLength:4,tokenHex:!1,tokenChars:"0123456789"},h=function(){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=n.defaults,o=void 0===t?{}:t,r=n.adjectives,a=void 0===r?u:r,c=n.nouns,h=void 0===c?d:c,p=n.seed;i(this,e),this.adjectives=a,this.nouns=h,this.random=new s.default(p),this.config=(0,l.default)(o,f)}return r(e,[{key:"haikunate",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=(0,l.default)(e,this.config);!0===n.tokenHex&&(n.tokenChars="0123456789abcdef");for(var t=this._randomElement(this.adjectives),o=this._randomElement(this.nouns),i="",r=0;r<n.tokenLength;r++)i+=this._randomElement(n.tokenChars);return[t,o,i].filter(function(e){return 0===e||e}).join(n.delimiter)}},{key:"_randomElement",value:function(e){return e[this.random(e.length)]}}]),e}();n.default=h,e.exports=n.default},mvHQ:function(e,n,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,n,t){var o=t("FeBl"),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},t3u0:function(e,n,t){"use strict";function o(e){t("F12q")}Object.defineProperty(n,"__esModule",{value:!0});var i=t("xLEQ"),r=t("Mh98"),a=t("VU/8"),s=o,c=a(i.a,r.a,s,"data-v-49b61f60",null);n.default=c.exports},xLEQ:function(e,n,t){"use strict";var o=t("mvHQ"),i=t.n(o),r=t("e/7n"),a=t.n(r),s=t("mnUt"),c=t.n(s),l=new c.a,u={fetch:function(){return JSON.parse(localStorage.getItem("channels-example")||"{}")},save:function(e){localStorage.setItem("channels-example",i()(e))}};n.a={data:function(){return{chatsock:null,messages:[],handle:"",newMessage:""}},watch:{handle:function(e){u.save({name:e})}},methods:{send:function(){var e={handle:this.handle,message:this.newMessage};this.chatsock.send(i()(e)),this.newMessage=""},randomName:function(){var e=l.haikunate({tokenLength:0});this.handle=e.split("-").map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(" ")},whoami:function(){var e=u.fetch();e.name?this.handle=e.name:this.randomName()}},mounted:function(){var e=this,n="api/message/?limit=50&label="+this.$route.query.label;this.$http.get(n).then(function(n){e.messages=n.body});var t=this;this.chatsock=new a.a(window.wsRoot+"/chat/"+this.$route.query.label),this.chatsock.onmessage=function(e){var n=JSON.parse(e.data);t.messages.push(n)},this.whoami()}}}});
//# sourceMappingURL=0.45291b6d860d3fbdb128.js.map