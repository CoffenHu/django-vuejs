{"version":3,"sources":["webpack:///static/js/0.d02aa9726825483abb5d.js","webpack:///./src/components/Room.vue?36cc","webpack:///./src/components/Room.vue?a5e6","webpack:///./~/core-js/library/modules/_core.js","webpack:///./src/components/Room.vue?5fcd","webpack:///./~/reconnectingwebsocket/reconnecting-websocket.js","webpack:///./~/babel-runtime/core-js/json/stringify.js","webpack:///./~/core-js/library/fn/json/stringify.js","webpack:///./src/components/Room.vue","webpack:///src/components/Room.vue"],"names":["webpackJsonp","DQdH","module","exports","__webpack_require__","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","F12q","content","locals","FeBl","core","__e","Mh98","__webpack_exports__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$route","query","label","messages","length","attrs","to","name","staticStyle","position","right","_l","message","index","key","padding","timestamp","color","handle","_e","directives","rawName","value","expression","type","placeholder","domProps","on","input","$event","target","composing","newMessage","click","send","staticRenderFns","esExports","e/7n","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","factory","undefined","apply","ReconnectingWebSocket","url","protocols","options","generateEvent","s","args","evt","document","createEvent","initCustomEvent","settings","debug","automaticOpen","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","reconnectAttempts","readyState","WebSocket","CONNECTING","protocol","ws","self","forcedClose","timedOut","eventTarget","createElement","addEventListener","event","onopen","onclose","onconnecting","onmessage","onerror","bind","removeEventListener","dispatchEvent","open","reconnectAttempt","debugAll","console","localWs","timeout","setTimeout","close","clearTimeout","OPEN","e","isReconnect","CLOSED","code","reason","wasClean","Math","pow","data","refresh","window","prototype","CLOSING","mvHQ","default","__esModule","qkKv","$JSON","JSON","stringify","it","arguments","t3u0","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Room_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_49b61f60_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Room_vue__","normalizeComponent","__vue_styles__","Component","xLEQ","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","__WEBPACK_IMPORTED_MODULE_1_reconnectingwebsocket__","__WEBPACK_IMPORTED_MODULE_1_reconnectingwebsocket___default","chatsock","methods","mounted","_this","$http","get","then","response","body","vm","a","wsRoot","parse"],"mappings":"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","file":"static/js/0.d02aa9726825483abb5d.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"DQdH\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"h1[data-v-49b61f60],h2[data-v-49b61f60]{font-weight:700;font-size:5em}@media only screen and (max-width:767px){h1[data-v-49b61f60],h2[data-v-49b61f60]{font-weight:700;font-size:2em}}\", \"\", {\"version\":3,\"sources\":[\"/Users/jackeygao/Coding/example/channels-example/src/src/components/Room.vue\"],\"names\":[],\"mappings\":\"AACA,wCACE,gBAAkB,AAClB,aAAe,CAChB,AACD,yCACA,wCACK,gBAAkB,AAClB,aAAe,CACnB,CACA\",\"file\":\"Room.vue\",\"sourcesContent\":[\"\\nh1[data-v-49b61f60], h2[data-v-49b61f60] {\\n  font-weight: bold;\\n  font-size: 5em;\\n}\\n@media only screen and (max-width: 767px) {\\nh1[data-v-49b61f60], h2[data-v-49b61f60] {\\n     font-weight: bold;\\n     font-size: 2em;\\n}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ \"F12q\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"DQdH\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"2ba01129\", content, true);\n\n/***/ }),\n\n/***/ \"FeBl\":\n/***/ (function(module, exports) {\n\nvar core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n/***/ }),\n\n/***/ \"Mh98\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('h1', {\n    staticClass: \"header\"\n  }, [_vm._v(_vm._s(_vm.$route.query.label))]), _vm._v(\" \"), (_vm.messages.length > 0) ? _c('div', {\n    staticClass: \"ui segment\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": {\n        name: 'index'\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"ui green basic button icon\",\n    staticStyle: {\n      \"position\": \"absolute\",\n      \"right\": \"10px\"\n    }\n  }, [_c('i', {\n    staticClass: \"home icon\"\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui divided selection list\"\n  }, _vm._l((_vm.messages), function(message, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"item\",\n      staticStyle: {\n        \"padding\": \"1em\"\n      }\n    }, [_c('div', {\n      staticClass: \"ui stackable grid\"\n    }, [_c('div', {\n      staticClass: \"four wide column\"\n    }, [_vm._v(\"\\n                        \" + _vm._s(message.timestamp) + \"\\n                    \")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"eight wide column\"\n    }, [_c('span', {\n      staticStyle: {\n        \"color\": \"#5BBD72\"\n      }\n    }, [_vm._v(_vm._s(message.message))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"two wide column\"\n    }, [_vm._v(\"\\n                        \" + _vm._s(message.handle) + \"\\n                    \")])])])\n  }))], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui segment\"\n  }, [_c('div', {\n    staticClass: \"ui stackable grid\"\n  }, [_c('div', {\n    staticClass: \"six wide column\"\n  }, [_c('div', {\n    staticClass: \"ui fluid labeled input\"\n  }, [_c('div', {\n    staticClass: \"ui label\"\n  }, [_vm._v(\"\\n                      Handle\\n                    \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.handle),\n      expression: \"handle\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Your name\"\n    },\n    domProps: {\n      \"value\": (_vm.handle)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.handle = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"eight wide column\"\n  }, [_c('div', {\n    staticClass: \"ui fluid input\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.newMessage),\n      expression: \"newMessage\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Message...\"\n    },\n    domProps: {\n      \"value\": (_vm.newMessage)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.newMessage = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"two wide column\"\n  }, [_c('button', {\n    staticClass: \"ui fluid teal right labeled right floated icon button\",\n    on: {\n      \"click\": _vm.send\n    }\n  }, [_c('i', {\n    staticClass: \"reply icon\"\n  }), _vm._v(\"\\n                  Send\\n              \")])])])])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"e/7n\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */\n(function (global, factory) {\n    if (true) {\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else if (typeof module !== 'undefined' && module.exports){\n        module.exports = factory();\n    } else {\n        global.ReconnectingWebSocket = factory();\n    }\n})(this, function () {\n\n    if (!('WebSocket' in window)) {\n        return;\n    }\n\n    function ReconnectingWebSocket(url, protocols, options) {\n\n        // Default settings\n        var settings = {\n\n            /** Whether this instance should log debug messages. */\n            debug: false,\n\n            /** Whether or not the websocket should attempt to connect immediately upon instantiation. */\n            automaticOpen: true,\n\n            /** The number of milliseconds to delay before attempting to reconnect. */\n            reconnectInterval: 1000,\n            /** The maximum number of milliseconds to delay a reconnection attempt. */\n            maxReconnectInterval: 30000,\n            /** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */\n            reconnectDecay: 1.5,\n\n            /** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */\n            timeoutInterval: 2000,\n\n            /** The maximum number of reconnection attempts to make. Unlimited if null. */\n            maxReconnectAttempts: null\n        }\n        if (!options) { options = {}; }\n\n        // Overwrite and define settings with options if they exist.\n        for (var key in settings) {\n            if (typeof options[key] !== 'undefined') {\n                this[key] = options[key];\n            } else {\n                this[key] = settings[key];\n            }\n        }\n\n        // These should be treated as read-only properties\n\n        /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\n        this.url = url;\n\n        /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\n        this.reconnectAttempts = 0;\n\n        /**\n         * The current state of the connection.\n         * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n         * Read only.\n         */\n        this.readyState = WebSocket.CONNECTING;\n\n        /**\n         * A string indicating the name of the sub-protocol the server selected; this will be one of\n         * the strings specified in the protocols parameter when creating the WebSocket object.\n         * Read only.\n         */\n        this.protocol = null;\n\n        // Private state variables\n\n        var self = this;\n        var ws;\n        var forcedClose = false;\n        var timedOut = false;\n        var eventTarget = document.createElement('div');\n\n        // Wire up \"on*\" properties as event handlers\n\n        eventTarget.addEventListener('open',       function(event) { self.onopen(event); });\n        eventTarget.addEventListener('close',      function(event) { self.onclose(event); });\n        eventTarget.addEventListener('connecting', function(event) { self.onconnecting(event); });\n        eventTarget.addEventListener('message',    function(event) { self.onmessage(event); });\n        eventTarget.addEventListener('error',      function(event) { self.onerror(event); });\n\n        // Expose the API required by EventTarget\n\n        this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\n        this.removeEventListener = eventTarget.removeEventListener.bind(eventTarget);\n        this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\n\n        /**\n         * This function generates an event that is compatible with standard\n         * compliant browsers and IE9 - IE11\n         *\n         * This will prevent the error:\n         * Object doesn't support this action\n         *\n         * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n         * @param s String The name that the event should use\n         * @param args Object an optional object that the event will use\n         */\n        function generateEvent(s, args) {\n        \tvar evt = document.createEvent(\"CustomEvent\");\n        \tevt.initCustomEvent(s, false, false, args);\n        \treturn evt;\n        };\n\n        this.open = function (reconnectAttempt) {\n            ws = new WebSocket(self.url, protocols || []);\n\n            if (reconnectAttempt) {\n                if (this.maxReconnectAttempts && this.reconnectAttempts > this.maxReconnectAttempts) {\n                    return;\n                }\n            } else {\n                eventTarget.dispatchEvent(generateEvent('connecting'));\n                this.reconnectAttempts = 0;\n            }\n\n            if (self.debug || ReconnectingWebSocket.debugAll) {\n                console.debug('ReconnectingWebSocket', 'attempt-connect', self.url);\n            }\n\n            var localWs = ws;\n            var timeout = setTimeout(function() {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'connection-timeout', self.url);\n                }\n                timedOut = true;\n                localWs.close();\n                timedOut = false;\n            }, self.timeoutInterval);\n\n            ws.onopen = function(event) {\n                clearTimeout(timeout);\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onopen', self.url);\n                }\n                self.protocol = ws.protocol;\n                self.readyState = WebSocket.OPEN;\n                self.reconnectAttempts = 0;\n                var e = generateEvent('open');\n                e.isReconnect = reconnectAttempt;\n                reconnectAttempt = false;\n                eventTarget.dispatchEvent(e);\n            };\n\n            ws.onclose = function(event) {\n                clearTimeout(timeout);\n                ws = null;\n                if (forcedClose) {\n                    self.readyState = WebSocket.CLOSED;\n                    eventTarget.dispatchEvent(generateEvent('close'));\n                } else {\n                    self.readyState = WebSocket.CONNECTING;\n                    var e = generateEvent('connecting');\n                    e.code = event.code;\n                    e.reason = event.reason;\n                    e.wasClean = event.wasClean;\n                    eventTarget.dispatchEvent(e);\n                    if (!reconnectAttempt && !timedOut) {\n                        if (self.debug || ReconnectingWebSocket.debugAll) {\n                            console.debug('ReconnectingWebSocket', 'onclose', self.url);\n                        }\n                        eventTarget.dispatchEvent(generateEvent('close'));\n                    }\n\n                    var timeout = self.reconnectInterval * Math.pow(self.reconnectDecay, self.reconnectAttempts);\n                    setTimeout(function() {\n                        self.reconnectAttempts++;\n                        self.open(true);\n                    }, timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);\n                }\n            };\n            ws.onmessage = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onmessage', self.url, event.data);\n                }\n                var e = generateEvent('message');\n                e.data = event.data;\n                eventTarget.dispatchEvent(e);\n            };\n            ws.onerror = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onerror', self.url, event);\n                }\n                eventTarget.dispatchEvent(generateEvent('error'));\n            };\n        }\n\n        // Whether or not to create a websocket upon instantiation\n        if (this.automaticOpen == true) {\n            this.open(false);\n        }\n\n        /**\n         * Transmits data to the server over the WebSocket connection.\n         *\n         * @param data a text string, ArrayBuffer or Blob to send to the server.\n         */\n        this.send = function(data) {\n            if (ws) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'send', self.url, data);\n                }\n                return ws.send(data);\n            } else {\n                throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\n            }\n        };\n\n        /**\n         * Closes the WebSocket connection or connection attempt, if any.\n         * If the connection is already CLOSED, this method does nothing.\n         */\n        this.close = function(code, reason) {\n            // Default CLOSE_NORMAL code\n            if (typeof code == 'undefined') {\n                code = 1000;\n            }\n            forcedClose = true;\n            if (ws) {\n                ws.close(code, reason);\n            }\n        };\n\n        /**\n         * Additional public API method to refresh the connection if still open (close, re-open).\n         * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n         */\n        this.refresh = function() {\n            if (ws) {\n                ws.close();\n            }\n        };\n    }\n\n    /**\n     * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n     * this indicates that the connection is ready to send and receive data.\n     */\n    ReconnectingWebSocket.prototype.onopen = function(event) {};\n    /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\n    ReconnectingWebSocket.prototype.onclose = function(event) {};\n    /** An event listener to be called when a connection begins being attempted. */\n    ReconnectingWebSocket.prototype.onconnecting = function(event) {};\n    /** An event listener to be called when a message is received from the server. */\n    ReconnectingWebSocket.prototype.onmessage = function(event) {};\n    /** An event listener to be called when an error occurs. */\n    ReconnectingWebSocket.prototype.onerror = function(event) {};\n\n    /**\n     * Whether all instances of ReconnectingWebSocket should log debug messages.\n     * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n     */\n    ReconnectingWebSocket.debugAll = false;\n\n    ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\n    ReconnectingWebSocket.OPEN = WebSocket.OPEN;\n    ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\n    ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\n\n    return ReconnectingWebSocket;\n});\n\n\n/***/ }),\n\n/***/ \"mvHQ\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(\"qkKv\"), __esModule: true };\n\n/***/ }),\n\n/***/ \"qkKv\":\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core = __webpack_require__(\"FeBl\");\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n/***/ }),\n\n/***/ \"t3u0\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Room_vue__ = __webpack_require__(\"xLEQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_49b61f60_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Room_vue__ = __webpack_require__(\"Mh98\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"F12q\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-49b61f60\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_Room_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_49b61f60_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_Room_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"xLEQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"mvHQ\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_reconnectingwebsocket__ = __webpack_require__(\"e/7n\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_reconnectingwebsocket___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_reconnectingwebsocket__);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    data: function data() {\n        return {\n            chatsock: null,\n            messages: [],\n            handle: \"\",\n            newMessage: \"\"\n        };\n    },\n\n    methods: {\n        send: function send() {\n            var message = {\n                handle: this.handle,\n                message: this.newMessage\n            };\n            this.chatsock.send(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(message));\n            this.newMessage = \"\";\n        }\n    },\n\n    mounted: function mounted() {\n        var _this = this;\n\n        var url = \"api/message/?limit=50&label=\" + this.$route.query.label;\n        this.$http.get(url).then(function (response) {\n            _this.messages = response.body;\n        });\n        // Chat WebSocket\n        var vm = this;\n        this.chatsock = new __WEBPACK_IMPORTED_MODULE_1_reconnectingwebsocket___default.a(window.wsRoot + '/chat' + '/' + this.$route.query.label);\n\n        this.chatsock.onmessage = function (message) {\n            var data = JSON.parse(message.data);\n            vm.messages.push(data);\n        };\n    }\n});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.d02aa9726825483abb5d.js","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"h1[data-v-49b61f60],h2[data-v-49b61f60]{font-weight:700;font-size:5em}@media only screen and (max-width:767px){h1[data-v-49b61f60],h2[data-v-49b61f60]{font-weight:700;font-size:2em}}\", \"\", {\"version\":3,\"sources\":[\"/Users/jackeygao/Coding/example/channels-example/src/src/components/Room.vue\"],\"names\":[],\"mappings\":\"AACA,wCACE,gBAAkB,AAClB,aAAe,CAChB,AACD,yCACA,wCACK,gBAAkB,AAClB,aAAe,CACnB,CACA\",\"file\":\"Room.vue\",\"sourcesContent\":[\"\\nh1[data-v-49b61f60], h2[data-v-49b61f60] {\\n  font-weight: bold;\\n  font-size: 5em;\\n}\\n@media only screen and (max-width: 767px) {\\nh1[data-v-49b61f60], h2[data-v-49b61f60] {\\n     font-weight: bold;\\n     font-size: 2em;\\n}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-49b61f60\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Room.vue\n// module id = DQdH\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49b61f60\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./Room.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"2ba01129\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-49b61f60\",\"scoped\":true,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/components/Room.vue\n// module id = F12q\n// module chunks = 0","var core = module.exports = { version: '2.5.1' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_core.js\n// module id = FeBl\n// module chunks = 0","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', [_c('h1', {\n    staticClass: \"header\"\n  }, [_vm._v(_vm._s(_vm.$route.query.label))]), _vm._v(\" \"), (_vm.messages.length > 0) ? _c('div', {\n    staticClass: \"ui segment\"\n  }, [_c('router-link', {\n    attrs: {\n      \"to\": {\n        name: 'index'\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"ui green basic button icon\",\n    staticStyle: {\n      \"position\": \"absolute\",\n      \"right\": \"10px\"\n    }\n  }, [_c('i', {\n    staticClass: \"home icon\"\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui divided selection list\"\n  }, _vm._l((_vm.messages), function(message, index) {\n    return _c('div', {\n      key: index,\n      staticClass: \"item\",\n      staticStyle: {\n        \"padding\": \"1em\"\n      }\n    }, [_c('div', {\n      staticClass: \"ui stackable grid\"\n    }, [_c('div', {\n      staticClass: \"four wide column\"\n    }, [_vm._v(\"\\n                        \" + _vm._s(message.timestamp) + \"\\n                    \")]), _vm._v(\" \"), _c('div', {\n      staticClass: \"eight wide column\"\n    }, [_c('span', {\n      staticStyle: {\n        \"color\": \"#5BBD72\"\n      }\n    }, [_vm._v(_vm._s(message.message))])]), _vm._v(\" \"), _c('div', {\n      staticClass: \"two wide column\"\n    }, [_vm._v(\"\\n                        \" + _vm._s(message.handle) + \"\\n                    \")])])])\n  }))], 1) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"ui segment\"\n  }, [_c('div', {\n    staticClass: \"ui stackable grid\"\n  }, [_c('div', {\n    staticClass: \"six wide column\"\n  }, [_c('div', {\n    staticClass: \"ui fluid labeled input\"\n  }, [_c('div', {\n    staticClass: \"ui label\"\n  }, [_vm._v(\"\\n                      Handle\\n                    \")]), _vm._v(\" \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.handle),\n      expression: \"handle\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Your name\"\n    },\n    domProps: {\n      \"value\": (_vm.handle)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.handle = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"eight wide column\"\n  }, [_c('div', {\n    staticClass: \"ui fluid input\"\n  }, [_c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.newMessage),\n      expression: \"newMessage\"\n    }],\n    attrs: {\n      \"type\": \"text\",\n      \"placeholder\": \"Message...\"\n    },\n    domProps: {\n      \"value\": (_vm.newMessage)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.newMessage = $event.target.value\n      }\n    }\n  })])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"two wide column\"\n  }, [_c('button', {\n    staticClass: \"ui fluid teal right labeled right floated icon button\",\n    on: {\n      \"click\": _vm.send\n    }\n  }, [_c('i', {\n    staticClass: \"reply icon\"\n  }), _vm._v(\"\\n                  Send\\n              \")])])])])])\n}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-49b61f60\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Room.vue\n// module id = Mh98\n// module chunks = 0","// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof module !== 'undefined' && module.exports){\n        module.exports = factory();\n    } else {\n        global.ReconnectingWebSocket = factory();\n    }\n})(this, function () {\n\n    if (!('WebSocket' in window)) {\n        return;\n    }\n\n    function ReconnectingWebSocket(url, protocols, options) {\n\n        // Default settings\n        var settings = {\n\n            /** Whether this instance should log debug messages. */\n            debug: false,\n\n            /** Whether or not the websocket should attempt to connect immediately upon instantiation. */\n            automaticOpen: true,\n\n            /** The number of milliseconds to delay before attempting to reconnect. */\n            reconnectInterval: 1000,\n            /** The maximum number of milliseconds to delay a reconnection attempt. */\n            maxReconnectInterval: 30000,\n            /** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */\n            reconnectDecay: 1.5,\n\n            /** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */\n            timeoutInterval: 2000,\n\n            /** The maximum number of reconnection attempts to make. Unlimited if null. */\n            maxReconnectAttempts: null\n        }\n        if (!options) { options = {}; }\n\n        // Overwrite and define settings with options if they exist.\n        for (var key in settings) {\n            if (typeof options[key] !== 'undefined') {\n                this[key] = options[key];\n            } else {\n                this[key] = settings[key];\n            }\n        }\n\n        // These should be treated as read-only properties\n\n        /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\n        this.url = url;\n\n        /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\n        this.reconnectAttempts = 0;\n\n        /**\n         * The current state of the connection.\n         * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n         * Read only.\n         */\n        this.readyState = WebSocket.CONNECTING;\n\n        /**\n         * A string indicating the name of the sub-protocol the server selected; this will be one of\n         * the strings specified in the protocols parameter when creating the WebSocket object.\n         * Read only.\n         */\n        this.protocol = null;\n\n        // Private state variables\n\n        var self = this;\n        var ws;\n        var forcedClose = false;\n        var timedOut = false;\n        var eventTarget = document.createElement('div');\n\n        // Wire up \"on*\" properties as event handlers\n\n        eventTarget.addEventListener('open',       function(event) { self.onopen(event); });\n        eventTarget.addEventListener('close',      function(event) { self.onclose(event); });\n        eventTarget.addEventListener('connecting', function(event) { self.onconnecting(event); });\n        eventTarget.addEventListener('message',    function(event) { self.onmessage(event); });\n        eventTarget.addEventListener('error',      function(event) { self.onerror(event); });\n\n        // Expose the API required by EventTarget\n\n        this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\n        this.removeEventListener = eventTarget.removeEventListener.bind(eventTarget);\n        this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\n\n        /**\n         * This function generates an event that is compatible with standard\n         * compliant browsers and IE9 - IE11\n         *\n         * This will prevent the error:\n         * Object doesn't support this action\n         *\n         * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n         * @param s String The name that the event should use\n         * @param args Object an optional object that the event will use\n         */\n        function generateEvent(s, args) {\n        \tvar evt = document.createEvent(\"CustomEvent\");\n        \tevt.initCustomEvent(s, false, false, args);\n        \treturn evt;\n        };\n\n        this.open = function (reconnectAttempt) {\n            ws = new WebSocket(self.url, protocols || []);\n\n            if (reconnectAttempt) {\n                if (this.maxReconnectAttempts && this.reconnectAttempts > this.maxReconnectAttempts) {\n                    return;\n                }\n            } else {\n                eventTarget.dispatchEvent(generateEvent('connecting'));\n                this.reconnectAttempts = 0;\n            }\n\n            if (self.debug || ReconnectingWebSocket.debugAll) {\n                console.debug('ReconnectingWebSocket', 'attempt-connect', self.url);\n            }\n\n            var localWs = ws;\n            var timeout = setTimeout(function() {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'connection-timeout', self.url);\n                }\n                timedOut = true;\n                localWs.close();\n                timedOut = false;\n            }, self.timeoutInterval);\n\n            ws.onopen = function(event) {\n                clearTimeout(timeout);\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onopen', self.url);\n                }\n                self.protocol = ws.protocol;\n                self.readyState = WebSocket.OPEN;\n                self.reconnectAttempts = 0;\n                var e = generateEvent('open');\n                e.isReconnect = reconnectAttempt;\n                reconnectAttempt = false;\n                eventTarget.dispatchEvent(e);\n            };\n\n            ws.onclose = function(event) {\n                clearTimeout(timeout);\n                ws = null;\n                if (forcedClose) {\n                    self.readyState = WebSocket.CLOSED;\n                    eventTarget.dispatchEvent(generateEvent('close'));\n                } else {\n                    self.readyState = WebSocket.CONNECTING;\n                    var e = generateEvent('connecting');\n                    e.code = event.code;\n                    e.reason = event.reason;\n                    e.wasClean = event.wasClean;\n                    eventTarget.dispatchEvent(e);\n                    if (!reconnectAttempt && !timedOut) {\n                        if (self.debug || ReconnectingWebSocket.debugAll) {\n                            console.debug('ReconnectingWebSocket', 'onclose', self.url);\n                        }\n                        eventTarget.dispatchEvent(generateEvent('close'));\n                    }\n\n                    var timeout = self.reconnectInterval * Math.pow(self.reconnectDecay, self.reconnectAttempts);\n                    setTimeout(function() {\n                        self.reconnectAttempts++;\n                        self.open(true);\n                    }, timeout > self.maxReconnectInterval ? self.maxReconnectInterval : timeout);\n                }\n            };\n            ws.onmessage = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onmessage', self.url, event.data);\n                }\n                var e = generateEvent('message');\n                e.data = event.data;\n                eventTarget.dispatchEvent(e);\n            };\n            ws.onerror = function(event) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'onerror', self.url, event);\n                }\n                eventTarget.dispatchEvent(generateEvent('error'));\n            };\n        }\n\n        // Whether or not to create a websocket upon instantiation\n        if (this.automaticOpen == true) {\n            this.open(false);\n        }\n\n        /**\n         * Transmits data to the server over the WebSocket connection.\n         *\n         * @param data a text string, ArrayBuffer or Blob to send to the server.\n         */\n        this.send = function(data) {\n            if (ws) {\n                if (self.debug || ReconnectingWebSocket.debugAll) {\n                    console.debug('ReconnectingWebSocket', 'send', self.url, data);\n                }\n                return ws.send(data);\n            } else {\n                throw 'INVALID_STATE_ERR : Pausing to reconnect websocket';\n            }\n        };\n\n        /**\n         * Closes the WebSocket connection or connection attempt, if any.\n         * If the connection is already CLOSED, this method does nothing.\n         */\n        this.close = function(code, reason) {\n            // Default CLOSE_NORMAL code\n            if (typeof code == 'undefined') {\n                code = 1000;\n            }\n            forcedClose = true;\n            if (ws) {\n                ws.close(code, reason);\n            }\n        };\n\n        /**\n         * Additional public API method to refresh the connection if still open (close, re-open).\n         * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n         */\n        this.refresh = function() {\n            if (ws) {\n                ws.close();\n            }\n        };\n    }\n\n    /**\n     * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n     * this indicates that the connection is ready to send and receive data.\n     */\n    ReconnectingWebSocket.prototype.onopen = function(event) {};\n    /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\n    ReconnectingWebSocket.prototype.onclose = function(event) {};\n    /** An event listener to be called when a connection begins being attempted. */\n    ReconnectingWebSocket.prototype.onconnecting = function(event) {};\n    /** An event listener to be called when a message is received from the server. */\n    ReconnectingWebSocket.prototype.onmessage = function(event) {};\n    /** An event listener to be called when an error occurs. */\n    ReconnectingWebSocket.prototype.onerror = function(event) {};\n\n    /**\n     * Whether all instances of ReconnectingWebSocket should log debug messages.\n     * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n     */\n    ReconnectingWebSocket.debugAll = false;\n\n    ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\n    ReconnectingWebSocket.OPEN = WebSocket.OPEN;\n    ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\n    ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\n\n    return ReconnectingWebSocket;\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/reconnectingwebsocket/reconnecting-websocket.js\n// module id = e/7n\n// module chunks = 0","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = mvHQ\n// module chunks = 0","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = qkKv\n// module chunks = 0","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-49b61f60\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Room.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Room.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-49b61f60\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Room.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-49b61f60\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Room.vue\n// module id = t3u0\n// module chunks = 0","<template>\n    <div>\n        <h1 class=\"header\">{{ $route.query.label }}</h1>\n\n        <div v-if=\"messages.length > 0\" class=\"ui segment\">\n            <router-link :to=\"{ name: 'index' }\">\n                <div style=\"position: absolute; right: 10px;\" class=\"ui green basic button icon\">\n                    <i class=\"home icon\"></i>\n                </div>\n            </router-link>\n\n            <div class=\"ui divided selection list\">\n                <div \n                    v-for=\"(message, index) in messages\"\n                    :key=\"index\"\n                    style=\"padding: 1em;\" \n                    class=\"item\">\n                    <div class=\"ui stackable grid\">\n                        <div class=\"four wide column\">\n                            {{ message.timestamp }}\n                        </div>\n                        <div class=\"eight wide column\">\n                            <span style=\"color: #5BBD72;\">{{ message.message }}</span>\n                        </div>\n                        <div class=\"two wide column\">\n                            {{ message.handle }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"ui segment\">\n            <div class=\"ui stackable grid\">\n                <div class=\"six wide column\">\n                    <div class=\"ui fluid labeled input\">\n                        <div class=\"ui label\">\n                          Handle\n                        </div>\n                        <input v-model=\"handle\" type=\"text\" placeholder=\"Your name\">\n                    </div>\n                </div>\n                <div class=\"eight wide column\">\n                    <div class=\"ui fluid input\">\n                      <input v-model=\"newMessage\" type=\"text\" placeholder=\"Message...\">\n                    </div>\n                </div>\n                <div class=\"two wide column\">\n                    <button\n                        @click=\"send\"\n                        class=\"ui fluid teal right labeled right floated icon button\">\n                      <i class=\"reply icon\"></i>\n                      Send\n                  </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ReconnectingWebsocket from 'reconnectingwebsocket';\n\nexport default {\n    data () {\n        return {\n            chatsock: null,\n            messages: [],\n            handle: \"\",\n            newMessage: \"\"\n        }\n    },\n    methods: {\n        send () {\n            var message = {\n                handle: this.handle,\n                message: this.newMessage\n            }\n            this.chatsock.send(JSON.stringify(message));\n            this.newMessage = \"\";\n        }\n    },\n\n    mounted () {\n        var url = \"api/message/?limit=50&label=\" + this.$route.query.label\n        this.$http.get(url).then((response) => {\n            this.messages = response.body\n        })\n        // Chat WebSocket\n        var vm = this\n        this.chatsock = new ReconnectingWebsocket(window.wsRoot + '/chat' + '/' + this.$route.query.label);\n\n        this.chatsock.onmessage = function(message) {\n            var data = JSON.parse(message.data);\n            vm.messages.push(data);\n        };\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1, h2 {\n  font-weight: bold;\n  font-size: 5em;\n}\n\n@media only screen and (max-width: 767px) {\n    h1, h2 {\n     font-weight: bold;\n     font-size: 2em;\n    }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/Room.vue?07fb3786"],"sourceRoot":""}