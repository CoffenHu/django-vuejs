webpackJsonp([0],{DQdH:function(e,t,n){t=e.exports=n("FZ+f")(!0),t.push([e.i,"h1[data-v-49b61f60],h2[data-v-49b61f60]{font-weight:700;font-size:5em}@media only screen and (max-width:767px){h1[data-v-49b61f60],h2[data-v-49b61f60]{font-weight:700;font-size:2em}}","",{version:3,sources:["/Users/jackeygao/Coding/example/channels-example/src/src/components/Room.vue"],names:[],mappings:"AACA,wCACE,gBAAkB,AAClB,aAAe,CAChB,AACD,yCACA,wCACK,gBAAkB,AAClB,aAAe,CACnB,CACA",file:"Room.vue",sourcesContent:["\nh1[data-v-49b61f60], h2[data-v-49b61f60] {\n  font-weight: bold;\n  font-size: 5em;\n}\n@media only screen and (max-width: 767px) {\nh1[data-v-49b61f60], h2[data-v-49b61f60] {\n     font-weight: bold;\n     font-size: 2em;\n}\n}\n"],sourceRoot:""}])},F12q:function(e,t,n){var o=n("DQdH");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("rjj0")("2ba01129",o,!0)},FeBl:function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},Mh98:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",{staticClass:"header"},[e._v(e._s(e.$route.query.label))]),e._v(" "),e.messages.length>0?n("div",{staticClass:"ui segment"},[n("router-link",{attrs:{to:{name:"index"}}},[n("div",{staticClass:"ui green basic button icon",staticStyle:{position:"absolute",right:"10px"}},[n("i",{staticClass:"home icon"})])]),e._v(" "),n("div",{staticClass:"ui divided selection list"},e._l(e.messages,function(t,o){return n("div",{key:o,staticClass:"item",staticStyle:{padding:"1em"}},[n("div",{staticClass:"ui stackable grid"},[n("div",{staticClass:"four wide column"},[e._v("\n                        "+e._s(t.timestamp)+"\n                    ")]),e._v(" "),n("div",{staticClass:"eight wide column"},[n("span",{staticStyle:{color:"#5BBD72"}},[e._v(e._s(t.message))])]),e._v(" "),n("div",{staticClass:"two wide column"},[e._v("\n                        "+e._s(t.handle)+"\n                    ")])])])}))],1):e._e(),e._v(" "),n("div",{staticClass:"ui segment"},[n("div",{staticClass:"ui stackable grid"},[n("div",{staticClass:"six wide column"},[n("div",{staticClass:"ui fluid labeled input"},[n("div",{staticClass:"ui label"},[e._v("\n                      Handle\n                    ")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.handle,expression:"handle"}],attrs:{type:"text",placeholder:"Your name"},domProps:{value:e.handle},on:{input:function(t){t.target.composing||(e.handle=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"eight wide column"},[n("div",{staticClass:"ui fluid input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],attrs:{type:"text",placeholder:"Message..."},domProps:{value:e.newMessage},on:{input:function(t){t.target.composing||(e.newMessage=t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"two wide column"},[n("button",{staticClass:"ui fluid teal right labeled right floated icon button",on:{click:e.send}},[n("i",{staticClass:"reply icon"}),e._v("\n                  Send\n              ")])])])])])},s=[],i={render:o,staticRenderFns:s};t.a=i},"e/7n":function(e,t,n){var o,s,i;!function(n,a){s=[],o=a,void 0!==(i="function"==typeof o?o.apply(t,s):o)&&(e.exports=i)}(0,function(){function e(t,n,o){function s(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}var i={debug:!1,automaticOpen:!0,reconnectInterval:1e3,maxReconnectInterval:3e4,reconnectDecay:1.5,timeoutInterval:2e3,maxReconnectAttempts:null};o||(o={});for(var a in i)void 0!==o[a]?this[a]=o[a]:this[a]=i[a];this.url=t,this.reconnectAttempts=0,this.readyState=WebSocket.CONNECTING,this.protocol=null;var c,r=this,l=!1,u=!1,d=document.createElement("div");d.addEventListener("open",function(e){r.onopen(e)}),d.addEventListener("close",function(e){r.onclose(e)}),d.addEventListener("connecting",function(e){r.onconnecting(e)}),d.addEventListener("message",function(e){r.onmessage(e)}),d.addEventListener("error",function(e){r.onerror(e)}),this.addEventListener=d.addEventListener.bind(d),this.removeEventListener=d.removeEventListener.bind(d),this.dispatchEvent=d.dispatchEvent.bind(d),this.open=function(t){if(c=new WebSocket(r.url,n||[]),t){if(this.maxReconnectAttempts&&this.reconnectAttempts>this.maxReconnectAttempts)return}else d.dispatchEvent(s("connecting")),this.reconnectAttempts=0;(r.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","attempt-connect",r.url);var o=c,i=setTimeout(function(){(r.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","connection-timeout",r.url),u=!0,o.close(),u=!1},r.timeoutInterval);c.onopen=function(n){clearTimeout(i),(r.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onopen",r.url),r.protocol=c.protocol,r.readyState=WebSocket.OPEN,r.reconnectAttempts=0;var o=s("open");o.isReconnect=t,t=!1,d.dispatchEvent(o)},c.onclose=function(n){if(clearTimeout(i),c=null,l)r.readyState=WebSocket.CLOSED,d.dispatchEvent(s("close"));else{r.readyState=WebSocket.CONNECTING;var o=s("connecting");o.code=n.code,o.reason=n.reason,o.wasClean=n.wasClean,d.dispatchEvent(o),t||u||((r.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onclose",r.url),d.dispatchEvent(s("close")));var i=r.reconnectInterval*Math.pow(r.reconnectDecay,r.reconnectAttempts);setTimeout(function(){r.reconnectAttempts++,r.open(!0)},i>r.maxReconnectInterval?r.maxReconnectInterval:i)}},c.onmessage=function(t){(r.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onmessage",r.url,t.data);var n=s("message");n.data=t.data,d.dispatchEvent(n)},c.onerror=function(t){(r.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","onerror",r.url,t),d.dispatchEvent(s("error"))}},1==this.automaticOpen&&this.open(!1),this.send=function(t){if(c)return(r.debug||e.debugAll)&&console.debug("ReconnectingWebSocket","send",r.url,t),c.send(t);throw"INVALID_STATE_ERR : Pausing to reconnect websocket"},this.close=function(e,t){void 0===e&&(e=1e3),l=!0,c&&c.close(e,t)},this.refresh=function(){c&&c.close()}}if("WebSocket"in window)return e.prototype.onopen=function(e){},e.prototype.onclose=function(e){},e.prototype.onconnecting=function(e){},e.prototype.onmessage=function(e){},e.prototype.onerror=function(e){},e.debugAll=!1,e.CONNECTING=WebSocket.CONNECTING,e.OPEN=WebSocket.OPEN,e.CLOSING=WebSocket.CLOSING,e.CLOSED=WebSocket.CLOSED,e})},mvHQ:function(e,t,n){e.exports={default:n("qkKv"),__esModule:!0}},qkKv:function(e,t,n){var o=n("FeBl"),s=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},t3u0:function(e,t,n){"use strict";function o(e){n("F12q")}Object.defineProperty(t,"__esModule",{value:!0});var s=n("xLEQ"),i=n("Mh98"),a=n("VU/8"),c=o,r=a(s.a,i.a,c,"data-v-49b61f60",null);t.default=r.exports},xLEQ:function(e,t,n){"use strict";var o=n("mvHQ"),s=n.n(o),i=n("e/7n"),a=n.n(i);t.a={data:function(){return{chatsock:null,messages:[],handle:"",newMessage:""}},methods:{send:function(){var e={handle:this.handle,message:this.newMessage};this.chatsock.send(s()(e)),this.newMessage=""}},mounted:function(){var e=this,t="api/message/?limit=50&label="+this.$route.query.label;this.$http.get(t).then(function(t){e.messages=t.body});var n=this;this.chatsock=new a.a(window.wsRoot+"/chat/"+this.$route.query.label),this.chatsock.onmessage=function(e){var t=JSON.parse(e.data);n.messages.push(t)}}}}});
//# sourceMappingURL=0.d02aa9726825483abb5d.js.map